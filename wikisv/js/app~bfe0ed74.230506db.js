(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],p=0,d=[];p<s.length;p++)o=s[p],a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={"app~bfe0ed74":0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors~493df0b3"]),n()})({0:function(e,t,n){e.exports=n("41f5")},"1d61":function(e,t){e.exports=marked},"213a":function(e,t,n){},"285b":function(e,t,n){"use strict";n("cb80"),n("5337"),n("5c38"),n("c0f8"),n("e52a"),n("3efa");var r=n("dccd"),a=n("8bab"),i=n("9a2a"),o=(n("43fd"),n("7653"),n("1d61")),s=new o.Renderer;function c(e){return e.replace(/&<"/g,function(e){return"&"===e?"&amp;":"<"===e?"&lt;":"&quot;"})}function u(e,t){var n;return n=/^wiki:(.*)$/.exec(e),n&&n[1]?"#/wiki/"+n[1]:(n=/^b:\/\/(.*)$/.exec(e),n&&n[1]?("img"==t?"https://lol.bitdb.network/assets/1BvPxwDoz6DR9qedZrKJjWio6Gm7UCPGXU/raw/":"https://bico.media/")+n[1]:e)}s.image=function(e,t,n){var r=/=\s*(\d*)\s*x\s*(\d*)\s*$/.exec(t),a='<img src="'+u(c(e),"img")+'" alt="'+c(n);return r&&r[1]&&(a+='" height="'+r[1]),r&&r[2]&&(a+='" width="'+r[2]),a+'">'};var l=s.link;s.link=function(e,t,n){return l.apply(this,[u(e),t,n])},o.setOptions({breaks:!0,link:function(e){return{href:"wiki:"+e[1],title:null}},renderer:s});var p=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,[{key:"recentPages",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,s,c,u=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=t.limit,r=void 0===n?20:n,a=[],i=[];case 3:return o={nameFilter:{$exists:!0,$ne:"|"},limit:20},i.length>0&&i[i.length-1].tx.blk&&(o.beforeBlock=i[i.length-1].tx.blk.i),e.next=7,this.loadWikis(o);case 7:if(s=e.sent,c=s.u.concat(s.c).map(function(e){return u.toContent(e)}),i=c,c.forEach(function(e){a.find(function(t){return t.name==e.name})||a.push(e)}),!(0==c.length||a.length>=r)){e.next=14;break}return a.length=Math.min(a.length,r),e.abrupt("return",a);case 14:if(c.length>0&&a.length<r){e.next=3;break}case 15:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"recentChanges",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.name,r=t.limit,a=void 0===r?20:r,e.next=3,this.loadWikis({nameFilter:{$in:[n,n+".md"]},limit:a});case 3:return i=e.sent,o=i.u.concat(i.c).map(function(e){return s.toContent(e)}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadWikis",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i,o,s,c,u,l,p,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.nameFilter,r=t.limit,a=void 0===r?2:r,i=t.find,o=t.beforeBlock,s={v:3,q:{find:{out:{$elemMatch:{$or:[{s1:"19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut",s3:"text/markdown",s5:n},{s2:"19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut",s4:"text/markdown",s6:n}]}}},project:{"out.ls2":1,"out.s2":1,"out.s5":1,"out.s3":1,"out.ls3":1,"tx.h":1,blk:1,"out.s6":1},sort:{"blk.i":-1,i:-1},limit:a}},o&&(s.q.find["blk.i"]={$lt:o}),i&&(s.q.find=i),console.log(JSON.stringify(s)),c=JSON.stringify(s),u=btoa(unescape(encodeURIComponent(c))),l="https://neongenesis.bitdb.network/q/1HcBPzWoKDL2FhCMbocQmLuFTYsiD73u1j/"+u,p={headers:{key:"18doZeakgc7BeKs2L1ZWKMnoJnRQmoJy2i"}},e.next=11,fetch(l,p);case 11:return e.next=13,e.sent.json();case 13:return d=e.sent,d.u.reverse(),e.abrupt("return",d);case 16:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"load",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.page,r={nameFilter:{$in:[n,n+".md"]},limit:2},"tx"==t.type&&(r.find={"tx.h":t.page}),e.next=5,this.loadWikis(r);case 5:return a=e.sent,i=a.u[0]||a.c[0],e.abrupt("return",this.toContent(i));case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"toContent",value:function(e){if(!e)return e;var t="19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut"!=e.out[0].s2,n=t?e.out[0].s2||e.out[0].ls2:e.out[0].s3||e.out[0].ls3,r={content:n,tx:e,name:t?e.out[0].s5:e.out[0].s6};return".md"==r.name.substring(r.name.length-3)&&(r.name=r.name.substring(0,r.name.length-3)),r}},{key:"marked",value:function(e){return o(e)}}]),e}();t["a"]=new p},"41f5":function(e,t,n){"use strict";n.r(t);n("5ebc"),n("dc41"),n("79b8"),n("f741");var r,a,i,o=n("8bbf"),s=n.n(o),c=n("6389"),u=n.n(c),l=n("f375"),p=n.n(l),d=n("08a0"),h=n.n(d),f=(n("046b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("loading",{attrs:{active:e.loading,"is-full-page":!0},on:{"update:active":function(t){e.loading=t}}}),e.loadingFailMessage?n("div",[e._v("Loading failed ("+e._s(e.loadingFailMessage)+"). Please "),n("button",{attrs:{onclick:"location.reload();"}},[e._v("refresh")])]):e._e(),n("router-view")],1)}),m=[],v=n("8c8e"),g={components:{Loading:h.a},subscriptions:{loading:v["c"],loadingFailMessage:v["b"]},data:function(){return{}}},w=g,x=(n("e5cd"),n("6691")),b=Object(x["a"])(w,f,m,!1,null,null,null),k=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[!e.content&&e.loaded?n("div",[e._v("\nNot found"),n("br")]):e._e(),n("div",{staticClass:"menu-bar"},[n("router-link",{staticClass:"item",attrs:{to:{name:"home"}}},[e._v("Home")]),n("create-link"),n("router-link",{staticClass:"item",attrs:{to:{name:"edit",params:{page:e.wiki.name}}}},[e.content?n("span",[e._v("Edit")]):n("span",[e._v("Create")]),e._v(" "+e._s(e.wiki.name))]),n("router-link",{staticClass:"item",attrs:{to:{name:"history",params:{page:e.wiki.name}}}},[e._v("History")]),n("a",{staticClass:"item",attrs:{target:"_blank",href:"https://whatsonchain.com/tx/"+e.wiki.tx.tx.h}},[e._v("View Tx")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.showMd,expression:"showMd"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showMd)?e._i(e.showMd,null)>-1:e.showMd},on:{change:function(t){var n=e.showMd,r=t.target,a=!!r.checked;if(Array.isArray(n)){var i=null,o=e._i(n,i);r.checked?o<0&&(e.showMd=n.concat([i])):o>-1&&(e.showMd=n.slice(0,o).concat(n.slice(o+1)))}else e.showMd=a}}}),n("a",{attrs:{href:"#",onclick:"return false"},on:{click:function(t){e.showMd=!e.showMd}}},[e._v("Markdown Text")])],1),n("hr"),e.showMd?n("textarea",{attrs:{readonly:"true",rows:"30",cols:"80"}},[e._v(e._s(e.wiki.content)+"\n")]):e._e(),e.content?n("div",[n("div",{domProps:{innerHTML:e._s(e.content)}})]):e._e()])},_=[],O=(n("3efa"),n("dccd")),j=n("cec6"),R=n("285b"),P={watch:{$route:function(e,t){console.log(e,t),this.display(e.params)}},data:function(){return{showMd:!1,wiki:{tx:{tx:{}}},content:"",loaded:!1}},methods:(r={display:function(){var e=Object(O["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R["a"].load(t);case 2:n=e.sent,n||(n={tx:{tx:{}},blk:{},content:"",name:t.page}),r=n?n.content:"",this.loaded=!0,console.log(n),this.wiki=n,this.content=R["a"].marked(r);case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},Object(j["a"])(r,"display",[v["a"]],Object.getOwnPropertyDescriptor(r,"display"),r),r),mounted:function(){var e=Object(O["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.display(this.$route.params);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},M=P,C=Object(x["a"])(M,y,_,!1,null,null,null),$=C.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-link",{staticClass:"item",attrs:{to:{name:"page",params:{page:"index"}}}},[e._v("Index Page")]),n("create-link"),n("br"),n("h1",[e._v("Recent Pages")]),n("hr"),e._l(e.recentPages,function(t){return n("div",[n("router-link",{attrs:{to:{name:"page",params:{page:t.name}}}},[e._v(e._s(t.name))]),e._v(" \n @ "+e._s(e._f("moment")((t.tx.blk||{}).t,"from","now"))+"\n")],1)}),n("hr"),n("div",{domProps:{innerHTML:e._s(e.content)}})],2)},V=[],H=(n("5c38"),n("8f0f"),{data:function(){return{content:"",recentPages:[]}},methods:(a={display:function(){var e=Object(O["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.loadIndex(),this.loadRecentPages(t)]);case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),loadIndex:function(){var e=Object(O["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R["a"].load({page:"index"});case 2:t=e.sent,this.content=R["a"].marked(t.content);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadRecentPages:function(){var e=Object(O["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R["a"].recentPages(t);case 2:n=e.sent,this.recentPages=n;case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},Object(j["a"])(a,"display",[v["a"]],Object.getOwnPropertyDescriptor(a,"display"),a),a),mounted:function(){var e=Object(O["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.display(this.$route.params);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),B=H,E=Object(x["a"])(B,S,V,!1,null,null,null),Q=E.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"flex"}},[n("div",[n("router-link",{staticClass:"item",attrs:{to:{name:"home"}}},[e._v("Home")]),n("hr"),n("h1",[e._v("Recent Changes")]),n("hr"),e._l(e.recentChanges,function(t){return n("div",[n("a",{attrs:{href:"#",onclick:"return false;"},on:{click:function(n){return e.show(t.tx.tx.h)}}},[n("span",{attrs:{title:t.tx.tx.h}},[e._v(e._s(e._f("truncate")(t.tx.tx.h,6,"..")))]),e._v(" @ "+e._s(e._f("moment")((t.tx.blk||{}).t,"from","now"))+"\n")]),n("router-link",{staticClass:"item",attrs:{to:{name:"page",params:{type:"tx",page:t.tx.tx.h}}}},[e._v("View")]),n("router-link",{staticClass:"item",attrs:{to:{name:"edit",params:{type:"tx",page:t.tx.tx.h}}}},[e._v("Restore")])],1)})],2),e.preview?n("div",[n("h1",[e._v("Verion Preview")]),n("hr"),n("div",{domProps:{innerHTML:e._s(e.preview)}})]):e._e()])},D=[],q={watch:{$route:function(e,t){this.display(e.params)}},data:function(){return{preview:"",recentChanges:[]}},methods:(i={display:function(){var e=Object(O["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R["a"].recentChanges({name:t.page});case 2:n=e.sent,this.recentChanges=n,console.log(n);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),show:function(){var e=Object(O["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R["a"].load({page:t,type:"tx"});case 2:n=e.sent,this.preview=R["a"].marked(n.content);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},Object(j["a"])(i,"display",[v["a"]],Object.getOwnPropertyDescriptor(i,"display"),i),Object(j["a"])(i,"show",[v["a"]],Object.getOwnPropertyDescriptor(i,"show"),i),i),mounted:function(){var e=Object(O["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.display(this.$route.params);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},L=q,T=(n("90b5"),Object(x["a"])(L,F,D,!1,null,null,null)),A=T.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-link",{staticClass:"item",attrs:{to:{name:"home"}}},[e._v("Home")]),n("a",{staticClass:"item",attrs:{target:"_blank",href:"https://www.markdownguide.org/basic-syntax/"}},[e._v("Markdown Ref.")]),n("hr"),n("div",{staticStyle:{display:"flex"}},[n("div",[e._v("\n  Page\n  Name:"),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",size:"50",disabled:e.loaded},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("br"),e._v("\n  Markdown Content:"),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{rows:"30",cols:"80"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),n("br"),n("MoneyButton",{attrs:{label:"Create/Update",devMode:!1,successMessage:"update done.",outputs:e.outputs}})],1),n("div",{staticStyle:{padding:"10px"}},[n("h1",[e._v("Preview")]),n("div",{domProps:{innerHTML:e._s(e.marked_content)}})])])],1)},N=[],z=n("745f"),J=z["a"],W=Object(x["a"])(J,U,N,!1,null,null,null),Z=W.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"item",attrs:{to:{name:"edit",params:{page:"<new>"}}}},[e._v("Create Page")])},K=[],G={},X=G,Y=Object(x["a"])(X,I,K,!1,null,null,null),ee=Y.exports,te=n("c133");s.a.use(te),s.a.use(p.a),s.a.use(u.a),s.a.use(h.a),s.a.use(n("4f25")),s.a.component("create-link",ee);var ne=[{path:"/history/:page",name:"history",component:A},{path:"/edit/:page/:type?",name:"edit",component:Z},{path:"/",name:"home",component:Q},{path:"/wiki/:page/:type?",name:"page",component:$},{path:"*",redirect:"/"}],re=new u.a({routes:ne});k.router=re,new s.a(k).$mount("#app")},"4f25":function(e,t){e.exports=vueMoment},5606:function(e,t){e.exports=rxjs},6389:function(e,t){e.exports=VueRouter},7175:function(e,t,n){},"745f":function(e,t,n){"use strict";(function(e){n("3efa");var r,a=n("dccd"),i=n("cec6"),o=(n("cb80"),n("b291"),n("ea7e"),n("14cb")),s=n.n(o),c=n("8c8e"),u=n("285b");t["a"]={components:{MoneyButton:s.a},data:function(){return{loaded:!1,name:"",content:""}},watch:{$route:function(e,t){this.load(e.params)}},computed:{marked_content:function(){return u["a"].marked(this.content)},outputs:function(){var e=this.opReturn;return[{script:e,amount:"0",currency:"BSV"}]},opReturn:function(){var t="OP_FALSE OP_RETURN "+e.from("19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut").toString("hex")+" "+e.from(this.content).toString("hex")+" "+e.from("text/markdown").toString("hex")+" "+e.from("utf8").toString("hex")+" "+e.from(this.name+".md").toString("hex");return console.log(t),t}},methods:(r={load:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loaded=!1,this.name=this.content="",e.next=4,u["a"].load(t);case 4:n=e.sent,n?(this.loaded=!0,this.name=n.name,this.content=n.content):this.name="<new>"==t.page?"":t.page;case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},Object(i["a"])(r,"load",[c["a"]],Object.getOwnPropertyDescriptor(r,"load"),r),r),mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.load(this.$route.params);case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}).call(this,n("0551").Buffer)},"8bbf":function(e,t){e.exports=Vue},"8c8e":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return p});n("3efa");var r=n("dccd"),a=n("5606"),i=new a["BehaviorSubject"](!1),o=new a["BehaviorSubject"]("");function s(){i.next(!0)}function c(e){throw o.next(""+e),e}function u(){i.next(!1)}var l={load:s,loadDone:u,loadFailed:c};function p(e,t,n){var a=n.value;n.value=Object(r["a"])(regeneratorRuntime.mark(function e(){var t=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l.load(),e.prev=1,e.next=4,a.apply(this,t);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](1),l.loadFailed(e.t0),e.t0;case 11:return e.prev=11,l.loadDone(),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,7,11,14]])}))}},"90b5":function(e,t,n){"use strict";var r=n("7175"),a=n.n(r);a.a},e5cd:function(e,t,n){"use strict";var r=n("213a"),a=n.n(r);a.a},f375:function(e,t){e.exports=VueRx}});
//# sourceMappingURL=app~bfe0ed74.230506db.js.map