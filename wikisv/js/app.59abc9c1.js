(function(t){function e(e){for(var r,i,u=e[0],s=e[1],c=e[2],p=0,d=[];p<u.length;p++)i=u[p],a[i]&&d.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,u=1;u<n.length;u++){var s=n[u];0!==a[s]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("41f5")},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"41f5":function(t,e,n){"use strict";n.r(e);n("5ebc"),n("dc41"),n("79b8"),n("f741");var r=n("54e1"),a=n("c478"),o=n("08a0"),i=n.n(o),u=(n("046b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view")],1)}),s=[],c={},l=c,p=n("6691"),d=Object(p["a"])(l,u,s,!1,null,null,null),f=d.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("loading",{attrs:{active:t.isLoading,"is-full-page":!0},on:{"update:active":function(e){t.isLoading=e}}}),t.loadingFailMessage?n("div",[t._v("Loading failed ("+t._s(t.loadingFailMessage)+"). Please "),n("button",{attrs:{onclick:"location.reload();"}},[t._v("refresh")])]):t._e(),t.content?t._e():n("div",[t._v("\nNot found"),n("br")]),n("router-link",{attrs:{to:{name:"edit",params:{page:t.$route.params.name}}}},[t.content?n("span",[t._v("Edit")]):n("span",[t._v("Create")]),t._v(" "+t._s(t.$route.params.name))]),n("hr"),t.content?n("div",[n("div",{domProps:{innerHTML:t._s(t.content)}})]):t._e()],1)},m=[],v=(n("3efa"),n("dccd")),g=(n("43fd"),n("cb80"),n("8bab")),b=n("9a2a"),w=function(){function t(){Object(g["a"])(this,t)}return Object(b["a"])(t,[{key:"load",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){var n,r,a,o,i,u,s,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.name,r={v:3,q:{find:{out:{$elemMatch:{$or:[{s1:"19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut",s3:"text/markdown",s5:{$in:[n,n+".md"]}},{s2:"19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut",s4:"text/markdown",s6:{$in:[n,n+".md"]}}]}}},project:{"out.s2":1,"out.s5":1,"out.s3":1,"out.s6":1},sort:{"blk.i":-1,i:-1},limit:2}},e.txid&&(r.q.find={"tx.h":e.txid}),console.log(JSON.stringify(r)),a=btoa(JSON.stringify(r)),o="https://neongenesis.bitdb.network/q/1HcBPzWoKDL2FhCMbocQmLuFTYsiD73u1j/"+a,i={headers:{key:"18doZeakgc7BeKs2L1ZWKMnoJnRQmoJy2i"}},t.next=9,fetch(o,i);case 9:return t.next=11,t.sent.json();case 11:if(u=t.sent,s=u.u[0]||u.c[0],s){t.next=15;break}return t.abrupt("return",s);case 15:return c="19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut"==s.out[0].s2?s.out[0].s3:s.out[0].s2,t.abrupt("return",{content:c,tx:s});case 17:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),y=new w,x=n("2909"),k=new x.Renderer,_=k.link;k.link=function(t,e,n){Array.prototype.slice.call(arguments);var r="wiki:";if(t.substring(0,r.length)==r){var a=t.substring(r.length),o=e?' title="'.concat(e,'"'):"";return'<a href="#/wiki/'.concat(a,'" ').concat(o,">").concat(n,"</a>")}return _.apply(this,[t,e,n])},x.setOptions({breaks:!0,link:function(t){return{href:"wiki:"+t[1],title:null}},renderer:k});var O={components:{Loading:i.a},watch:{$route:function(t,e){console.log(t,e),this.display(t.params)}},data:function(){return{content:"",loadingFailMessage:"",isLoading:!1,loaded:!1}},methods:{display:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loadingFailMessage="",this.isLoading=!0,t.prev=2,t.next=5,this.display1(e);case 5:return t.abrupt("return",t.sent);case 8:throw t.prev=8,t.t0=t["catch"](2),this.loadingFailMessage=""+t.t0,t.t0;case 12:return t.prev=12,this.isLoading=!1,t.finish(12);case 15:case"end":return t.stop()}},t,this,[[2,8,12,15]])}));function e(e){return t.apply(this,arguments)}return e}(),display1:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,y.load(e);case 2:n=t.sent,r=n?n.content:"",this.loaded=!0,console.log(n),this.content=x(r);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.display(this.$route.params);case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},j=O,M=Object(p["a"])(j,h,m,!1,null,null,null),R=M.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  Page\n  Name:"),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",size:"50",disabled:t.loaded},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("br"),t._v("\n  Markdown Content:"),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{rows:"30",cols:"80"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("br"),n("MoneyButton",{attrs:{label:"Create/Update",devMode:!1,successMessage:"update done.",outputs:t.outputs}})],1)},Q=[],V=n("14cb"),P=n.n(V),S=n("034f"),L=n.n(S),H={components:{MoneyButton:P.a},data:function(){return{loaded:!1,name:"",content:""}},watch:{$route:function(t,e){this.load(t.params)}},computed:{outputs:function(){var t=this.opReturn;return[{script:t,amount:"0",currency:"BSV"}]},opReturn:function(){var t=L.a.Script.buildSafeDataOut(["19HxigV4QyBv3tHpQVcUEQyq1pzZVdoAut",this.content,"text/markdown","utf8",this.name+".md"]);return console.log(t.toASM()),t.toASM()}},methods:{load:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loaded=!1,this.name=this.content="",n=this.$loading.show(),t.prev=3,t.next=6,y.load({name:e.page});case 6:r=t.sent,r&&(this.loaded=!0,this.name=e.page,this.content=r.content);case 8:return t.prev=8,n.hide(),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));function e(e){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.load(this.$route.params);case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},B=H,E=Object(p["a"])(B,$,Q,!1,null,null,null),q=E.exports;r["a"].use(a["a"]),r["a"].use(i.a);var A=document.createElement("div");document.body.appendChild(A);var F=[{path:"/edit/:page",name:"edit",component:q},{path:"/tx/:txid",component:R},{path:"/wiki/:name",component:R}],z=new a["a"]({routes:F});f.router=z,new r["a"](f).$mount(A)},5:function(t,e){},6:function(t,e){}});
//# sourceMappingURL=app.59abc9c1.js.map